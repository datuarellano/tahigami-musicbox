(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function a(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=a(t);fetch(t.href,e)}})();console.log("Tahigami Music Box D1-40 - JavaScript loaded");document.addEventListener("DOMContentLoaded",()=>{const d=document.querySelectorAll(".tab-button"),l=document.querySelectorAll(".tab-pane");d.forEach(r=>{r.addEventListener("click",()=>{const n=r.getAttribute("data-tab");d.forEach(f=>f.classList.remove("active")),l.forEach(f=>f.classList.remove("active")),r.classList.add("active");const s=document.getElementById(n);s&&s.classList.add("active")})}),document.querySelectorAll('a[href^="#"]').forEach(r=>{r.addEventListener("click",function(n){n.preventDefault();const s=document.querySelector(this.getAttribute("href"));s&&s.scrollIntoView({behavior:"smooth",block:"start"})})});const a=document.querySelector(".nav");window.addEventListener("scroll",()=>{window.pageYOffset>100?a.style.backgroundColor="rgba(255, 255, 255, 0.98)":a.style.backgroundColor="rgba(255, 255, 255, 0.95)"});const o=document.getElementById("lightbox"),t=o.querySelector(".lightbox-inner img"),e=Array.from(document.querySelectorAll(".lightbox-trigger")),i=o.querySelector(".lightbox-close"),m=o.querySelector(".lightbox-next"),b=o.querySelector(".lightbox-prev");let c=0;function y(r){const n=e[r],s=n.dataset.full||n.src;t.src=s,t.alt=n.alt||"",o.classList.add("open"),o.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",c=r,i.focus()}function u(){o.classList.remove("open"),o.setAttribute("aria-hidden","true"),document.body.style.overflow="",t.src="",e[c]?.focus()}function g(){c=(c+1)%e.length;const r=e[c].dataset.full||e[c].src;t.src=r,t.alt=e[c].alt||""}function h(){c=(c-1+e.length)%e.length;const r=e[c].dataset.full||e[c].src;t.src=r,t.alt=e[c].alt||""}e.forEach((r,n)=>r.addEventListener("click",s=>{s.preventDefault(),y(n)})),i.addEventListener("click",u),m.addEventListener("click",g),b.addEventListener("click",h),o.addEventListener("click",r=>{r.target===o&&u()}),document.addEventListener("keydown",r=>{o.classList.contains("open")&&(r.key==="Escape"&&u(),r.key==="ArrowRight"&&g(),r.key==="ArrowLeft"&&h())})});
